[gd_scene load_steps=18 format=3 uid="uid://dspc7qamheate"]

[ext_resource type="Script" uid="uid://dlflru4ncb8cy" path="res://CurveComparison.cs" id="1_0d66u"]
[ext_resource type="PackedScene" uid="uid://bv4i3p6plsbhf" path="res://visualizer_curve_view.tscn" id="2_0d66u"]
[ext_resource type="Shader" uid="uid://c2nphuj012sk1" path="res://curve_visualizer.gdshader" id="3_p0sm6"]
[ext_resource type="Texture2D" uid="uid://cmwhilyruonna" path="res://hdri/abandoned_garage_4k.exr" id="4_7ya8c"]
[ext_resource type="Script" uid="uid://drqihcog1xrfu" path="res://curve_visualizer_properties.gd" id="5_uxhy8"]

[sub_resource type="Environment" id="Environment_7ya8c"]
tonemap_mode = 3
tonemap_white = 4.66

[sub_resource type="ShaderMaterial" id="ShaderMaterial_uxhy8"]
render_priority = 0
shader = ExtResource("3_p0sm6")
shader_parameter/use_image = true
shader_parameter/image = ExtResource("4_7ya8c")
shader_parameter/exposure = 1.7
shader_parameter/awp_contrast = 1.625
shader_parameter/awp_high_clip_uniform = 3.0
shader_parameter/awp_crossover_point = 0.18
shader_parameter/output_max_value = 1.0

[sub_resource type="QuadMesh" id="QuadMesh_t2tvu"]
size = Vector2(2, 1)

[sub_resource type="QuadMesh" id="QuadMesh_uxhy8"]
size = Vector2(16, 9)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_uxhy8"]
load_path = "res://.godot/imported/abandoned_garage_4k.exr-66c4f8539a36e6c781f379937997470c.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t2tvu"]
render_priority = 0
shader = ExtResource("3_p0sm6")
shader_parameter/use_image = false
shader_parameter/image = SubResource("CompressedTexture2D_uxhy8")
shader_parameter/exposure = 1.7
shader_parameter/awp_contrast = 1.25
shader_parameter/awp_high_clip_uniform = 3.0
shader_parameter/awp_crossover_point = 0.18
shader_parameter/output_max_value = 1.0

[sub_resource type="QuadMesh" id="QuadMesh_qurbt"]
size = Vector2(16, 9)

[sub_resource type="Animation" id="Animation_t2tvu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:contrast")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.25]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:high_clip")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(3, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:crossover_point")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.18, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../ColourSweep:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../ColourSweep:material_override:shader_parameter/use_image")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("../Image:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("../Image/ImageLabel:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("../ColourSweep0_18:visible")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_so8tr"]
resource_name = "contrast"
length = 8.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:contrast")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(1.25, -0.25, 0, 0.25, 0, 1.25, -0.25, 0, 0.25, 0, 1.5, -0.25, 0, 0.25, 0, 1.5, -0.25, 0, 0.25, 0, 2.5, -0.25, 0, 0.25, 0, 2.5, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1.25, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 2, 3, 4, 5, 6, 7, 8)
}

[sub_resource type="Animation" id="Animation_uxhy8"]
resource_name = "high_clip"
length = 4.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:high_clip")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(3, -0.25, 0, 0.25, 0, 3, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 3, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 1, 2, 3, 4)
}

[sub_resource type="Animation" id="Animation_qurbt"]
resource_name = "crossover_point"
length = 12.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:crossover_point")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(0.18, -0.25, 0, 0.25, 0, 0.18, -0.25, 0, 0.25, 0, 0.01, -0.25, 0, 0.25, 0, 0.01, -0.25, 0, 0.25, 0, 0.18, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 5, 6, 11, 12)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:high_clip")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(3, -0.25, 0, 0.25, 0, 3, -0.25, 0, 0.25, 0, 1, -0.75, 0, 0.25, 0, 1, -0.25, 0, 0.75, 0, 3, -0.25, 0, 0.25, 0, 3, -0.25, 0, 0.25, 0, 1, -0.75, 0, 0.25, 0, 1, -0.25, 0, 0.75, 0, 3, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.966667, 2, 3, 4, 7, 8.03333, 9, 10)
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../ColourSweep:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("../ColourSweep:material_override:shader_parameter/use_image")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("../Image:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("../Image/ImageLabel:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("../ColourSweep0_18:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qurbt"]
_data = {
&"RESET": SubResource("Animation_t2tvu"),
&"contrast": SubResource("Animation_so8tr"),
&"crossover_point": SubResource("Animation_qurbt"),
&"high_clip": SubResource("Animation_uxhy8")
}

[node name="CurveComparison" type="Node2D"]
script = ExtResource("1_0d66u")
insomniac_b = 0.0
insomniac_c = 0.18
insomniac_t = 0.305
insomniac_s = 0.965
jh_toeStrength = 0.305
jh_toeLength = 0.205
jh_shoulderStrength = 0.885
jh_shoulderLength = 0.53
B = 1.905
C = 0.838
D = 1.0
E = 5.87
F = 0.238081
white = 3.0

[node name="CurveView" parent="." node_paths=PackedStringArray("curves") instance=ExtResource("2_0d66u")]
position = Vector2(9, 413)
scale = Vector2(0.3, 0.3)
curves = NodePath("..")
linear_max_x = 0.2
linear_max_y = 0.2
show_ref_line = false
show_ref_inflection = false
show_approx_inflection = false
show_one_line = false
show_white = false
show_max = false

[node name="CurveView2" parent="." node_paths=PackedStringArray("curves") instance=ExtResource("2_0d66u")]
position = Vector2(316, 413)
scale = Vector2(0.3, 0.3)
curves = NodePath("..")
linear_max_x = 3.0
show_ref_line = false
show_ref_inflection = false
show_approx_inflection = false
show_middle_grey_line = false
show_one_line = false
show_white = false
show_max = false

[node name="Label2" type="Label" parent="."]
offset_left = 9.0
offset_top = 370.0
offset_right = 309.0
offset_bottom = 411.0
theme_override_font_sizes/font_size = 20
text = "Dark to middle values"
horizontal_alignment = 1
vertical_alignment = 2

[node name="Label4" type="Label" parent="."]
offset_left = 316.0
offset_top = 370.0
offset_right = 616.0
offset_bottom = 411.0
theme_override_font_sizes/font_size = 20
text = "All values"
horizontal_alignment = 1
vertical_alignment = 2

[node name="Label" type="Label" parent="."]
offset_left = 443.0
offset_top = 507.0
offset_right = 612.0
offset_bottom = 686.0
theme_override_font_sizes/font_size = 20
text = "Contrast: 1.25"
vertical_alignment = 2

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7ya8c")

[node name="Image" type="MeshInstance3D" parent="."]
transform = Transform3D(4.571, 0, 0, 0, 4.571, 0, 0, 0, 4.571, 0.0881615, 0.136134, 0)
material_override = SubResource("ShaderMaterial_uxhy8")
mesh = SubResource("QuadMesh_t2tvu")

[node name="ImageLabel" type="Label" parent="Image"]
offset_left = 1048.0
offset_top = 6.0
offset_right = 1266.0
offset_bottom = 69.0
theme_override_constants/line_spacing = -2
theme_override_font_sizes/font_size = 15
text = " Abandoned Garage HDRI
by Grzegorz Wronkowski"
horizontal_alignment = 2

[node name="ColourSweep" type="MeshInstance3D" parent="."]
transform = Transform3D(0.17, 0, 0, 0, 0.17, 0, 0, 0, 0.17, -0.53032, -0.088, 0)
visible = false
material_override = SubResource("ShaderMaterial_uxhy8")
mesh = SubResource("QuadMesh_uxhy8")

[node name="ColourSweep0_18" type="MeshInstance3D" parent="."]
transform = Transform3D(0.17, 0, 0, 0, 0.17, 0, 0, 0, 0.17, 2.1876, -0.088, 0)
visible = false
material_override = SubResource("ShaderMaterial_t2tvu")
mesh = SubResource("QuadMesh_qurbt")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.201158, -0.0881237, 0.993944)

[node name="Node" type="Node" parent="." node_paths=PackedStringArray("curve_comparison", "label", "animation", "mesh")]
script = ExtResource("5_uxhy8")
curve_comparison = NodePath("..")
label = NodePath("../Label")
animation = NodePath("AnimationPlayer")
mesh = NodePath("../Image")
curve_feature = 3

[node name="AnimationPlayer" type="AnimationPlayer" parent="Node"]
libraries = {
&"": SubResource("AnimationLibrary_qurbt")
}
